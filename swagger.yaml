openapi: 3.0.0
info:
  title: Gestor Financiero IA API
  version: 2.0.0
  description: |
    API avanzada con 20 caracter칤sticas de Inteligencia Artificial para gesti칩n financiera personal.
    
    ## 游 Caracter칤sticas Principales
    
    ### 游늵 PREDICCI칍N DE GASTOS (5 mejoras)
    1. Predicci칩n por categor칤a
    2. Predicci칩n mensual (30 d칤as)
    3. Detecci칩n de anomal칤as
    4. M칰ltiples modelos ML (ARIMA, Prophet, LSTM)
    5. An치lisis de estacionalidad
    
    ### 游늳 AN츼LISIS ESTAD칈STICO (5 mejoras)
    6. Correlaciones entre categor칤as
    7. An치lisis temporal (mes actual vs anterior)
    8. Clustering autom치tico de gastos
    9. Detecci칩n de tendencias
    10. Identificaci칩n de outliers (IQR + Z-Score)
    
    ### 游눠 RECOMENDACIONES DE AHORRO (5 mejoras)
    11. Metas de ahorro (objetivos espec칤ficos)
    12. Tips personalizados (basados en patrones)
    13. Alertas de presupuesto (l칤mites mensuales)
    14. Gamificaci칩n (puntuaci칩n financiera)
    15. Reportes autom치ticos (resumen semanal)
    
    ### 游늵 GR츼FICOS Y VISUALIZACI칍N (5 mejoras)
    16. Calendario de calor (Heatmap de gastos)
    17. Gr치fico Sankey (Flujo de dinero)
    18. Dashboard interactivo (Panel con filtros)
    19. Comparativas (Mes vs mes anterior)
    20. Exportar como imagen (PNG/PDF)
    
    ## 游댏 Autenticaci칩n
    
    Todos los endpoints (excepto `/auth/token` y `/health`) requieren autenticaci칩n mediante JWT.
    
    **Paso 1:** Obtener token en `/api/v2/auth/token`
    
    **Paso 2:** Incluir token en headers:
    - `Authorization: Bearer {token}` o
    - `X-API-Key: {token}`

servers:
  - url: https://api-google-colab.onrender.com
    description: Servidor de producci칩n (Render)
  - url: http://localhost:5000
    description: Servidor de desarrollo local

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key

paths:
  # ===== AUTENTICACI칍N =====
  /api/v2/auth/token:
    post:
      tags:
        - Autenticaci칩n
      summary: Generar token JWT
      description: |
        Genera un token de autenticaci칩n JWT v치lido por 24 horas.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - user_id
              properties:
                user_id:
                  type: string
                  example: "abc123xyz789"
      responses:
        '200':
          description: Token generado exitosamente
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  user_id: "abc123xyz789"

  # ===== PREDICCI칍N PERSONALIZADA =====
  /api/v2/users/{usuario_id}/predict-category:
    get:
      tags:
        - 游늵 Predicci칩n Personalizada
      summary: Predicci칩n de categor칤a (filtrada)
      description: |
        Predicci칩n de gastos por categor칤a espec칤fica.
        
        **Datos en Firebase:**
        ```json
        {
          "fecha": "2024-12-20",
          "monto": 85.50,
          "categoria": "Comida"
        }
        ```
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
          example: "user123"
        - name: category
          in: query
          required: false
          schema:
            type: string
          example: "Comida"
      responses:
        '200':
          description: Predicci칩n exitosa
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  usuario_id: "user123"
                  categoria: "Comida"
                  data:
                    prediccion_proximos_30_dias: 2550.75
                    gasto_promedio_diario: 85.03
                    tendencia: "estable"
        '400':
          description: Sin datos en Firebase
        '500':
          description: Error en predicci칩n

  /api/v2/users/{usuario_id}/predict-monthly:
    get:
      tags:
        - 游늵 Predicci칩n Personalizada
      summary: Predicci칩n mensual (filtrada)
      description: |
        Predicci칩n de gastos mensuales (30 d칤as).
        
        **Datos en Firebase:**
        ```json
        {
          "fecha": "2024-12-18",
          "monto": 45.00,
          "categoria": "Transporte"
        }
        ```
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
          example: "user456"
        - name: category
          in: query
          required: false
          schema:
            type: string
          example: "Transporte"
      responses:
        '200':
          description: Predicci칩n mensual exitosa
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  usuario_id: "user456"
                  categoria: "Transporte"
                  data:
                    prediccion_mes: 1350.00
                    semanas:
                      - semana: 1
                        estimado: 337.50
                      - semana: 2
                        estimado: 337.50
                      - semana: 3
                        estimado: 337.50
                      - semana: 4
                        estimado: 337.50
        '400':
          description: Sin datos en Firebase

  /api/v2/users/{usuario_id}/detect-anomalies:
    get:
      tags:
        - 游늵 Predicci칩n Personalizada
      summary: Detecci칩n de anomal칤as (filtrada)
      description: |
        Detecta gastos an칩malos o inusuales.
        
        **Datos en Firebase:**
        ```json
        {
          "fecha": "2024-12-25",
          "monto": 250.00,
          "categoria": "Entretenimiento"
        }
        ```
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
          example: "user789"
        - name: category
          in: query
          required: false
          schema:
            type: string
          example: "Entretenimiento"
      responses:
        '200':
          description: An치lisis de anomal칤as exitoso
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  usuario_id: "user789"
                  categoria: "Entretenimiento"
                  data:
                    anomalias_detectadas: 2
                    gastos_atipicos:
                      - fecha: "2024-12-25"
                        monto: 500.00
                        razon: "Valor muy alto (3x promedio)"
                      - fecha: "2024-12-10"
                        monto: 750.00
                        razon: "Valor at칤pico detectado"
                    umbral_deteccion: 150.00
        '400':
          description: Sin datos en Firebase

  /api/v2/users/{usuario_id}/analysis-complete:
    get:
      tags:
        - 游늵 Predicci칩n Personalizada
      summary: An치lisis completo personalizado
      description: |
        An치lisis completo: predicci칩n, anomal칤as, comparaci칩n de modelos y estacionalidad.
        
        **Datos en Firebase:**
        ```json
        {
          "fecha": "2024-12-22",
          "monto": 120.50,
          "categoria": "Compras"
        }
        ```
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
          example: "user999"
        - name: category
          in: query
          required: false
          schema:
            type: string
          example: "Compras"
      responses:
        '200':
          description: An치lisis completo exitoso
          content:
            application/json:
              schema:
                type: object
                example:
                  status: "success"
                  usuario_id: "user999"
                  categoria: "Compras"
                  data:
                    prediccion_categoria:
                      prediccion_proximos_30_dias: 3600.00
                    prediccion_mensual:
                      estimado_mes: 3600.00
                      por_semana: 900.00
                    anomalias:
                      detectadas: 1
                      gastos_atipicos:
                        - monto: 1500.00
                          razon: "Compra grande detectada"
                    comparacion_modelos:
                      mejor_modelo: "Prophet"
                      precision: 0.87
                    estacionalidad:
                      patron: "Semanal"
                      picos_dias: ["viernes", "s치bado"]
                    timestamp: "2026-02-05T15:30:45.123456"
        '400':
          description: Sin datos en Firebase
        '500':
          description: Error en el an치lisis

  # ===== FIREBASE INTEGRATION =====
  /api/v2/firebase/users/{usuario_id}/gastos:
    get:
      tags:
        - 游댠 Firebase Integration
      summary: Obtener gastos del usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Gastos obtenidos exitosamente
    
    post:
      tags:
        - 游댠 Firebase Integration
      summary: Crear nuevo gasto
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                monto:
                  type: number
                categoria:
                  type: string
                fecha:
                  type: string
              example:
                fecha: "2024-12-20"
                monto: 85.50
                categoria: "Comida"
      responses:
        '201':
          description: Gasto creado exitosamente

  /api/v2/firebase/debug:
    get:
      tags:
        - 游댢 Debug & Utilidades
      summary: Debug de Firebase
      security: []
      responses:
        '200':
          description: Informaci칩n de debug

  # ===== AN츼LISIS PREDICTIVO (GEN칄RICOS) =====
  /api/v2/predict-category:
    get:
      tags:
        - 游늵 Predicci칩n de Gastos
      summary: Predicci칩n por categor칤a (gen칠rica)
      responses:
        '200':
          description: Predicci칩n exitosa

  /api/v2/predict-monthly:
    get:
      tags:
        - 游늵 Predicci칩n de Gastos
      summary: Predicci칩n mensual (gen칠rica)
      responses:
        '200':
          description: Predicci칩n exitosa

  /api/v2/detect-anomalies:
    get:
      tags:
        - 游늵 Predicci칩n de Gastos
      summary: Detecci칩n de anomal칤as (gen칠rica)
      responses:
        '200':
          description: An치lisis completado

  /api/v2/compare-models:
    get:
      tags:
        - 游늵 Predicci칩n de Gastos
      summary: Comparaci칩n de modelos (gen칠rica)
      responses:
        '200':
          description: Comparaci칩n completada

  /api/v2/seasonality:
    get:
      tags:
        - 游늵 Predicci칩n de Gastos
      summary: An치lisis de estacionalidad (gen칠rica)
      responses:
        '200':
          description: An치lisis completado

  /api/v2/analysis-complete:
    get:
      tags:
        - 游늵 Predicci칩n de Gastos
      summary: An치lisis completo (gen칠rica)
      responses:
        '200':
          description: An치lisis completado

  # ===== AN츼LISIS ESTAD칈STICO =====
  /api/v2/stat/correlations:
    get:
      tags:
        - 游늳 An치lisis Estad칤stico
      summary: Correlaciones entre categor칤as
      responses:
        '200':
          description: An치lisis de correlaciones

  /api/v2/stat/temporal-comparison:
    get:
      tags:
        - 游늳 An치lisis Estad칤stico
      summary: Comparaci칩n temporal
      responses:
        '200':
          description: Comparaci칩n temporal

  /api/v2/stat/clustering:
    get:
      tags:
        - 游늳 An치lisis Estad칤stico
      summary: Clustering de gastos
      responses:
        '200':
          description: Clustering completado

  /api/v2/stat/trends:
    get:
      tags:
        - 游늳 An치lisis Estad칤stico
      summary: Detecci칩n de tendencias
      responses:
        '200':
          description: Tendencias detectadas

  /api/v2/stat/outliers:
    get:
      tags:
        - 游늳 An치lisis Estad칤stico
      summary: Detecci칩n de outliers
      responses:
        '200':
          description: Outliers detectados

  /api/v2/stat/complete:
    get:
      tags:
        - 游늳 An치lisis Estad칤stico
      summary: An치lisis estad칤stico completo
      responses:
        '200':
          description: An치lisis completado

  # ===== RECOMENDACIONES DE AHORRO =====
  /api/v2/savings/goals:
    get:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Metas de ahorro
      responses:
        '200':
          description: Metas obtenidas
    post:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Crear meta de ahorro
      responses:
        '201':
          description: Meta creada

  /api/v2/savings/tips:
    get:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Tips personalizados
      responses:
        '200':
          description: Tips generados
    post:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Generar tips
      responses:
        '200':
          description: Tips generados

  /api/v2/savings/budget-alerts:
    get:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Alertas de presupuesto
      responses:
        '200':
          description: Alertas obtenidas
    post:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Crear alerta
      responses:
        '201':
          description: Alerta creada

  /api/v2/savings/health-score:
    get:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Puntuaci칩n financiera
      responses:
        '200':
          description: Puntuaci칩n calculada
    post:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Calcular puntuaci칩n
      responses:
        '200':
          description: Puntuaci칩n calculada

  /api/v2/savings/weekly-report:
    get:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Reporte semanal
      responses:
        '200':
          description: Reporte generado
    post:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Generar reporte
      responses:
        '200':
          description: Reporte generado

  /api/v2/savings/complete:
    get:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: An치lisis completo de ahorro
      responses:
        '200':
          description: An치lisis completado
    post:
      tags:
        - 游눠 Recomendaciones de Ahorro
      summary: Generar an치lisis completo
      responses:
        '200':
          description: An치lisis generado

  # ===== GR츼FICOS Y VISUALIZACI칍N =====
  /api/v2/charts/heatmap:
    get:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Calendario de calor
      responses:
        '200':
          description: Heatmap generado
    post:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Generar heatmap
      responses:
        '200':
          description: Heatmap generado

  /api/v2/charts/sankey:
    get:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Diagrama Sankey
      responses:
        '200':
          description: Diagrama generado
    post:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Generar Sankey
      responses:
        '200':
          description: Diagrama generado

  /api/v2/charts/dashboard:
    get:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Dashboard interactivo
      responses:
        '200':
          description: Dashboard generado
    post:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Generar dashboard
      responses:
        '200':
          description: Dashboard generado

  /api/v2/charts/comparison:
    get:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Comparaci칩n mensual
      responses:
        '200':
          description: Comparaci칩n generada
    post:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Generar comparaci칩n
      responses:
        '200':
          description: Comparaci칩n generada

  /api/v2/charts/export:
    get:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Exportar gr치ficos
      responses:
        '200':
          description: Gr치ficos exportados
    post:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Exportar gr치ficos
      responses:
        '200':
          description: Gr치ficos exportados

  /api/v2/charts/complete:
    get:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Todos los gr치ficos
      responses:
        '200':
          description: Gr치ficos generados
    post:
      tags:
        - 游늵 Gr치ficos y Visualizaci칩n
      summary: Generar todos los gr치ficos
      responses:
        '200':
          description: Gr치ficos generados

  # ===== FIREBASE INTEGRATION COMPLETA =====
  /api/v2/firebase/usuarios:
    get:
      tags:
        - 游댠 Firebase Integration
      summary: Obtener todos los usuarios
      responses:
        '200':
          description: Usuarios obtenidos

  /api/v2/firebase/usuarios/{usuario_id}:
    get:
      tags:
        - 游댠 Firebase Integration
      summary: Obtener usuario espec칤fico
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Usuario obtenido

  /api/v2/firebase/users/{usuario_id}/gastos-procesados:
    get:
      tags:
        - 游댠 Firebase Integration
      summary: Obtener gastos procesados
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Gastos procesados

  /api/v2/firebase/users/{usuario_id}/gastos-ids:
    get:
      tags:
        - 游댠 Firebase Integration
      summary: Obtener IDs de gastos
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: IDs obtenidos

  # ===== ASESOR FINANCIERO IA =====
  /api/v2/firebase/users/{usuario_id}/asesor-financiero:
    get:
      tags:
        - 游뱄 Asesor Financiero IA
      summary: An치lisis completo con IA
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: An치lisis generado

  /api/v2/firebase/users/{usuario_id}/predicciones:
    get:
      tags:
        - 游뱄 Asesor Financiero IA
      summary: Predicciones para usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Predicciones generadas

  /api/v2/firebase/users/{usuario_id}/analisis:
    get:
      tags:
        - 游뱄 Asesor Financiero IA
      summary: An치lisis estad칤stico para usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: An치lisis completado

  /api/v2/firebase/users/{usuario_id}/recomendaciones:
    get:
      tags:
        - 游뱄 Asesor Financiero IA
      summary: Recomendaciones para usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Recomendaciones generadas

  /api/v2/firebase/users/{usuario_id}/graficos:
    get:
      tags:
        - 游뱄 Asesor Financiero IA
      summary: Gr치ficos para usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Gr치ficos generados

  /api/v2/firebase/users/{usuario_id}/score:
    get:
      tags:
        - 游뱄 Asesor Financiero IA
      summary: Puntuaci칩n financiera del usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Puntuaci칩n calculada

  # ===== NOTIFICACIONES =====
  /api/v2/notifications/register-device:
    post:
      tags:
        - 游댒 Notificaciones
      summary: Registrar dispositivo
      responses:
        '201':
          description: Dispositivo registrado

  /api/v2/notifications/unregister-device:
    post:
      tags:
        - 游댒 Notificaciones
      summary: Desregistrar dispositivo
      responses:
        '200':
          description: Dispositivo desregistrado

  /api/v2/notifications/send:
    post:
      tags:
        - 游댒 Notificaciones
      summary: Enviar notificaci칩n
      responses:
        '200':
          description: Notificaci칩n enviada

  /api/v2/notifications/send-bulk:
    post:
      tags:
        - 游댒 Notificaciones
      summary: Enviar notificaciones masivas
      responses:
        '200':
          description: Notificaciones enviadas

  /api/v2/notifications/history/{usuario_id}:
    get:
      tags:
        - 游댒 Notificaciones
      summary: Historial de notificaciones
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Historial obtenido

  /api/v2/notifications/send-alert/{usuario_id}:
    post:
      tags:
        - 游댒 Notificaciones
      summary: Enviar alerta a usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Alerta enviada

  /api/v2/notifications/send-tips/{usuario_id}:
    post:
      tags:
        - 游댒 Notificaciones
      summary: Enviar tips a usuario
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Tips enviados

  # ===== FIREBASE USER-SPECIFIC ENDPOINTS =====
  /api/v2/firebase/users/{usuario_id}/compare-models:
    get:
      tags:
        - 游댠 Firebase Integration
      summary: Comparaci칩n de modelos (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Comparaci칩n completada

  /api/v2/firebase/users/{usuario_id}/seasonality:
    get:
      tags:
        - 游댠 Firebase Integration
      summary: An치lisis de estacionalidad (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: An치lisis completado

  # ===== FIREBASE STATS =====
  /api/v2/firebase/users/{usuario_id}/stat/correlations:
    get:
      tags:
        - 游댠 Firebase Stats
      summary: Correlaciones (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Correlaciones calculadas

  /api/v2/firebase/users/{usuario_id}/stat/temporal-comparison:
    get:
      tags:
        - 游댠 Firebase Stats
      summary: Comparaci칩n temporal (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Comparaci칩n completada

  /api/v2/firebase/users/{usuario_id}/stat/clustering:
    get:
      tags:
        - 游댠 Firebase Stats
      summary: Clustering (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Clustering completado

  /api/v2/firebase/users/{usuario_id}/stat/trends:
    get:
      tags:
        - 游댠 Firebase Stats
      summary: Tendencias (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Tendencias calculadas

  /api/v2/firebase/users/{usuario_id}/stat/outliers:
    get:
      tags:
        - 游댠 Firebase Stats
      summary: Outliers (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Outliers detectados

  /api/v2/firebase/users/{usuario_id}/stat/complete:
    get:
      tags:
        - 游댠 Firebase Stats
      summary: An치lisis estad칤stico completo (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: An치lisis completado

  # ===== FIREBASE SAVINGS =====
  /api/v2/firebase/users/{usuario_id}/savings/goals:
    get:
      tags:
        - 游댠 Firebase Savings
      summary: Metas de ahorro (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Metas obtenidas

  /api/v2/firebase/users/{usuario_id}/savings/tips:
    get:
      tags:
        - 游댠 Firebase Savings
      summary: Tips de ahorro (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Tips generados

  /api/v2/firebase/users/{usuario_id}/savings/budget-alerts:
    get:
      tags:
        - 游댠 Firebase Savings
      summary: Alertas de presupuesto (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Alertas generadas

  /api/v2/firebase/users/{usuario_id}/savings/health-score:
    get:
      tags:
        - 游댠 Firebase Savings
      summary: Puntuaci칩n de salud financiera (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Puntuaci칩n calculada

  /api/v2/firebase/users/{usuario_id}/savings/weekly-report:
    get:
      tags:
        - 游댠 Firebase Savings
      summary: Reporte semanal (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Reporte generado

  /api/v2/firebase/users/{usuario_id}/savings/complete:
    get:
      tags:
        - 游댠 Firebase Savings
      summary: An치lisis completo de ahorro (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: An치lisis completado

  # ===== FIREBASE CHARTS =====
  /api/v2/firebase/users/{usuario_id}/charts/heatmap:
    get:
      tags:
        - 游댠 Firebase Charts
      summary: Heatmap de gastos (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Heatmap generado

  /api/v2/firebase/users/{usuario_id}/charts/sankey:
    get:
      tags:
        - 游댠 Firebase Charts
      summary: Diagrama Sankey (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Diagrama generado

  /api/v2/firebase/users/{usuario_id}/charts/dashboard:
    get:
      tags:
        - 游댠 Firebase Charts
      summary: Dashboard interactivo (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Dashboard generado

  /api/v2/firebase/users/{usuario_id}/charts/comparison:
    get:
      tags:
        - 游댠 Firebase Charts
      summary: Comparaci칩n mensual (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Comparaci칩n generada

  /api/v2/firebase/users/{usuario_id}/charts/export:
    get:
      tags:
        - 游댠 Firebase Charts
      summary: Exportar gr치ficos (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Gr치ficos exportados

  /api/v2/firebase/users/{usuario_id}/charts/complete:
    get:
      tags:
        - 游댠 Firebase Charts
      summary: Todos los gr치ficos (usuario)
      parameters:
        - name: usuario_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Gr치ficos generados